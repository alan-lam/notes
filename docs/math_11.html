<!DOCTYPE html>
<html lang="en">
  <head>
    <!--
                                      _
        /\     _             _   _   | |             __    __
       /  \   | |      /\   | \ | |  | |       /\   |  \  /  |
      /    \  | |     /  \  |  \| |  | |      /  \  | |\\//| |
     / ____ \ | |__  / __ \ | |\  |  | |___  / __ \ | | \/ | |
    /_/    \_\|____|/_/  \_\|_| \_|  |_____|/_/  \_\|_|    |_|
    -->
    <title>Statistics</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link href="math_11.css" rel="stylesheet">
  </head>
  <body>
    <a href="index.html"><i id="back" class="fas fa-long-arrow-alt-left fa-2x"></i></a>
    <div class="toc">
      <ul>
        <a class="toc_link" href="#measures_of_center"><li>Measures of Center</li></a>
        <a class="toc_link" href="#measures_of_variation"><li>Measures of Variation</li></a>
        <a class="toc_link" href="#relative_standing"><li>Relative Standing</li></a>
        <a class="toc_link" href="#changes_in_scale"><li>Changes in Scale</li></a>
        <a class="toc_link" href="#correlation"><li>Correlation</li></a>
        <a class="toc_link" href="#linear_regression"><li>Linear Regression</li></a>
        <a class="toc_link" href="#assessing_the_appropriateness_of_regression"><li>Assessing the Appropriateness of Regression</a></li>
        <a class="toc_link" href="#assessing_the_quality_of_fit"><li>Assessing the Quality of Fit</li></a>
      </ul>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h1>Statistics</h1>
          <div class="content" id="measures_of_center">
            <h3>Measures of Center</h3>
            <ul>
              <li><p>Suppose we have observations `y_1, ..., y_n`</p></li>
              <li><p>mean: `bar(y) = (y_1 + ... + y_n)/n = 1/n sum_(i = 1)^n y_i`</p></li>
              <li><p>median:</p></li>
              <li style="list-style-type: none";><p>- arrange numbers in increasing order</p></li>
              <li style="list-style-type: none";><p>- if `n` is odd, the median is the observation in center</p></li>
              <li style="list-style-type: none";><p>- if `n` is even, the median is the mean of the two observations in the center</p></li>
            </ul>
            <div class="box">
              <p>Ex: `2, 4, 5, 9`</p>
              <p>mean = `(2 + 4 + 5 + 9)/4 = 5`</p>
              <p>median = `(4 + 5)/2 = 4.5`</p>
            </div>
            <ul>
              <li><p>Note: mean is greatly affected by outliers (unusual values) while median is robust (not sensitive to outliers)</p></li>
            </ul>
          </div>
          <div class="content" id="measures_of_variation">
            <h3>Measures of Variation</h3>
            <ul>
              <li><p>variance: `s^2 = 1/(n-1) sum_(i = 1)^n (y_i - bar(y))^2`</p></li>
              <li><p>standard deviation: `s` (square root of variation)</p></li>
            </ul>
            <div class="box">
              <p>Ex: `8, 10, 12`</p>
              <p>`bar(y) = 10`</p>
              <p>`s = sqrt(((8-10)^2 + (10-10)^2 + (12-10)^2)/(3-1)) = 2`</p>
            </div>
            <ul>
              <li><p>interquartile range (IQR):</p></li>
              <li style="list-style-type: none";><p>- arrange data in increasing order</p></li>
              <li style="list-style-type: none";><p>- lower quartile `Q_1` is the median of the observations to the left of the median</p></li>
              <li style="list-style-type: none";><p>- upper quartile `Q_3` is the median of the observations to the right of the median</p></li>
              <li style="list-style-type: none";><p>- IQR = `Q_3 - Q_1`</p></li>
            </ul>
            <div class="box">
              <p>Ex: 1, 2, 3, 4, 5, 6, 7</p>
              <p>median = `4`</p>
              <p>`Q_1 = 2.5`</p>
              <p>`Q_3 = 5.5`</p>
              <p>`IQR = 3`</p>
            </div>
            <ul>
              <li><p>Note: standard deviation is sensitive to outliers. IQR is not.</p></li>
              <li><p>Use the mean and standard deviation if the data is symmetric and there are no outliers</p></li>
              <li><p>Use the median and IQR if the data is skewed and there are outliers</p></li>
            </ul>
          </div>
          <div class="content" id="relative_standing">
            <h3>Relative Standing</h3>
            <ul>
              <li><p>Suppose we have observations `y_1, ..., y_n`</p></li>
              <li><p>z-score: number of standard deviations away from the mean</p></li>
              <li><p>To find the z-score associated with a given `y_i`, subtract the mean of the observations and divide by the standard deviation</p></li>
              <li><p>`z = (y_i - bar(y))/s`</p></li>
            </ul>
            <div class="box">
              <p>Ex: Comparing Sports Teams</p>
              <table>
                <tr>
                  <td></td>
                  <td>W-L</td>
                  <td>%</td>
                  <td>Mean</td>
                  <td>SD</td>
                  <td>z-score</td>
                </tr>
                <tr>
                  <td>Patriots</td>
                  <td>14-2</td>
                  <td>.875</td>
                  <td>.500</td>
                  <td>.200</td>
                  <td>1.88</td>
                </tr>
                <tr>
                  <td>Cubs</td>
                  <td>103-58</td>
                  <td>.640</td>
                  <td>.500</td>
                  <td>.062</td>
                  <td>2.26</td>
                </tr>
              </table>
              <p>z-score for Patriots: `(.875 - .500)/.200 ~~ 1.88`</p>
              <p>z-score for Cubs: `(.640 - .500)/.062 ~~ 2.26`</p>
              <p>The Patriots have a higher win %, but the Cubs have a higher z-score. This means that the Cubs getting a win is more impressive.</p>
            </div>
          </div>
          <div class="content" id="changes_in_scale">
            <h3>Changes in Scale</h3>
            <ul>
              <li><p>Suppose `x_i = a + by_i`, `b > 0`, for `i = 1, ..., n`</p></li>
              <li><p>Then `bar(x) = a + b bar(y)`</p></li>
              <li><p>And `s_x` (standard deviation of x) ` = bs_y`</p></li>
              <li><p>And z-score = `(x_i - bar(x))/s_x = ((a+by_i)-(a+b bar(y)))/(bs_y) = (y_i - bar(y))/s_y`</p></li>
              <li><p>In words: change each observation `y_i` by some amount (by adding and/or multiplying each `y_i` by some value(s))</p></li>
              <li style="list-style-type: none";><p>- Finding the mean of the changed values is the same as applying the changes to the mean of the old values</p></li>
              <li style="list-style-type: none";><p>- The standard deviation is unaffected by addition, but finding the standard deviation of the changed values is the same as multiplying the old standard by the amount multiplied to each `y_i`</p></li>
              <li style="list-style-type: none";><p>- The z-score is unaffected by changes in scale</p></li>
            </ul>
          </div>
          <div class="content" id="correlation">
            <h3>Correlation</h3>
            <ul>
              <li><p>A measure of linear association between two quantitative variables</p></li>
              <li><p>Suppose we have two variables `x` and `y` whose values for `n` cases are `(x_1, y_1), ..., (x_n, y_n)`</p></li>
              <li><p>Let `bar(x)` and `bar(y)` be means, let `s_x` and `s_y` be standard deviations</p></li>
              <li><p>The correlation between `x` and `y` is `r = 1/(n-1) sum_(i = 1)^n ((x_i-bar(x))/(s_x))((y_i-bar(y))/(s_y))`</p></li>
              <li><p>If `x` and `y` are positively associated (large values of `x` are paired with large values of `y`) then `r > 0`</p></li>
              <li><p>If `x` and `y` are negatively associated (large values of `x` are paired with small values of `y`) then `r < 0`</p></li>
              <li><p>If `x_i = y_i` for all `i`, then `r = 1/(n-1) sum_(i = 1)^n (x_i-bar(x))^2/(s_x)^2 = (s_x)^2/(s_x)^2 = 1`</p></li>
              <li><p>If `x_i = -y_i` for all `i`, then `r = -1`</p></li>
              <li><p>We always have `-1 <= r <= 1`</p></li>
              <li><p>Correlation is unaffected by changes in scale</p></li>
            </ul>
          </div>
          <div class="content" id="linear_regression">
            <h3>Linear Regression</h3>
            <ul>
              <li><p>Goal: predict the value of a variable `y` (response variable) given the value of a variable `x` (explanatory variable)</p></li>
              <li><p>Fit a line to the data and use the line to predict `y` from `x`</p></li>
              <li><p>Equation of the line is `hat(y) = b_0 + b_1x` where `b_0` is the intercept and `b_1` is the slope</p></li>
              <img class="img-fluid" src="./pictures/linear_regression.jpg">
              <li><p>If the value of the explanatory variable is `x_0` then the prediction for the response variable is `b_0 + b_1x_0`</p></li>
              <li><p>For each point, the vertical distance `y-hat(y)` between the point and the line is called the prediction error or residual</p></li>
              <li><p>least squares regression line: the line that minimizes the sum of squares of residuals</p></li>
              <li><p>Let `bar(x)` and `bar(y)` be the means of two variables</p></li>
              <li><p>Let `s_x` and `s_y` be the standard deviations</p></li>
              <li><p>Let `r` be the correlation</p></li>
              <li><p>The least squares regression line is `hat(y) = b_0 + b_1x` where `b_1 = (rs_y)/s_x` and `b_0 = bar(y) - b_1bar(x)`</p></li>
            </ul>
            <div class="box">
              <p>Ex: Let `x` be the father's height and `y` be the son's height</p>
              <p>Let `bar(x) = 67.7`, `bar(y) = 68.7`, `s_x = 2.72`, `s_y = 2.82`, `r = 0.50`</p>
              <p>Then `b_1 = (0.5)(2.82/2.72) ~~ 0.518` and `b_0 = 68.7 - (0.518)(67.7) ~~ 33.6`</p>
              <p>So the least squares regression line is `hat(y) = 33.6 + 0.518x`</p>
              <p>If the father's height is `74` inches (`x = 74`), then we predict the son's height is `33.6 + 0.518(74) ~~ 71.9` inches</p>
              <p>Every additional inch of the father's height increases the predicted son's height by `0.518` inches</p>
            </div>
            <ul>
              <li><p>The intercept (`b_0`) often has little statistical meaning</p></li>
              <li><p>If the regression line goes through `(bar(x), bar(y))`, then if `x` is the average, then `y` is also the average</p></li>
              <li><p>If `x = bar(x)+s_x`, then `hat(y) = b_0 + b_1(bar(x)+s_x) = b_0 + b_1bar(x) + b_1s_x = hat(y) + rs_y`</p></li>
              <li style="list-style-type: none";><p>In words, if `x` is one standard deviation above the mean, we predict `y` to be `r` standard deviations above the mean</p></li>
              <li><p>Because `-1 <= r <= 1`, this leads to the "regression effect"</p></li>
            </ul>
          </div>
          <div class="content" id="assessing_the_appropriateness_of_regression">
            <h3>Assessing the Appropriateness of Regression</h3>
            <ul>
              <li><p>residual plot: a plot of residuals against the explanatory variable</p></li>
              <img class="img-fluid" src="./pictures/residual_plot.jpg">
              <li><p>If the residual plot looks like a random scatter with no apparent pattern, then the regression line is a good representation of the relationship between the variables</p></li>
              <li style="list-style-type: none";><p>- About 50% above and below</p></li>
              <li><p>Things to look for:</p></li>
              <li style="list-style-type: none";><p>- curvature</p></li>
              <li style="list-style-type: none";><p>- outliers (large residuals or points that are extreme in the `x`-direction</p></li>
              <li style="list-style-type: none";><p>- heteroskedasticity (uneven spread)</p></li>
              <img class="img-fluid" src="./pictures/heteroskedasticity.jpg">
              <li style="list-style-type: none";><p>Low values of `x` have a small spread while large values of `x` have a larger spread</p></li>
              <li><p>If there is curvature or extreme heteroskedasticity, try a transformation</p></li>
              <li><p>Replace `y` by `y^2` or `sqrt(y)` or `1/y` or logs of one or both variables</p></li>
              <li><p>A point has high leverage if it is extreme in the `x`-direction</p></li>
              <li><p>A point is influential if omitting it would greatly change the slope of the line</p></li>
            </ul>
          </div>
          <div class="content" id="assessing_the_quality_of_fit">
            <h3>Assessing the Quality of Fit</h3>
            <ul>
              <li><p>The fraction of the variation in `y` explained by the regression is called `R^2` and it is the square of the correlation</p></li>
              <li><p>If `R^2` is high, regression could be inappropriate if there is a way of getting better predictions</p></li>
              <img class="img-fluid" src="./pictures/r2_high.jpg">
              <li style="list-style-type: none";><p>Could do better by not using a line because the points are curved</p></li>
              <li><p>If `R^2` is low, regression could be appropriate if there is no way to do better</p></li>
              <img class="img-fluid" src="./pictures/r2_low.jpg">
            </ul>
          </div>
        </div> <!-- col-12 -->
      </div> <!-- row -->
    </div> <!-- container -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
  </body>
</html>